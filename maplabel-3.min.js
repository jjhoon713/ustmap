function MapLabel(a){this.set("fontFamily","sans-serif");this.set("fontSize",12);this.set("fontColor","#000000");this.set("strokeWeight",4);this.set("strokeColor","#ffffff");this.set("align","center");this.set("zIndex",1000);this.setValues(a)}MapLabel.prototype=new google.maps.OverlayView;window.MapLabel=MapLabel;MapLabel.prototype.changed=function(a){switch(a){case"fontFamily":case"fontSize":case"fontColor":case"strokeWeight":case"strokeColor":case"align":case"text":return this.drawCanvas_();case"maxZoom":case"minZoom":case"position":return this.draw()}};MapLabel.prototype.drawCanvas_=function(){var c=this.canvas_;if(!c){return}var b=c.style;b.zIndex=(this.get("zIndex"));var j=c.getContext("2d");j.clearRect(0,0,c.width,c.height);j.strokeStyle=this.get("strokeColor");j.fillStyle=this.get("fontColor");j.font=this.get("fontSize")+"px "+this.get("fontFamily");var e=Number(this.get("strokeWeight"));var h=this.get("text");if(h){if(e){j.lineWidth=e}var g=this.get("fontSize");var k=h.split("\n");k=k.filter(Boolean);maxText="";for(var d=0;d<k.length;d++){if(k[d].length>maxText.length){maxText=k[d]}if(e){j.lineWidth=e;j.strokeText(k[d],e,e+(d*g))}j.fillText(k[d],e,e+(d*g))}h=maxText;var a=j.measureText(h);var f=a.width+e;b.marginLeft=this.getMarginLeft_(f)+"px";b.marginTop="-"+k.length*g/4+"px"}};MapLabel.prototype.onAdd=function(){var b=this.canvas_=document.createElement("canvas");var d=b.style;d.position="absolute";b.width=200;b.height=200;b.style.width="100px";b.style.height="100px";var a=b.getContext("2d");a.lineJoin="round";a.textBaseline="top";this.drawCanvas_();var c=this.getPanes();if(c){c.mapPane.appendChild(b)}};MapLabel.prototype.onAdd=MapLabel.prototype.onAdd;MapLabel.prototype.getMarginLeft_=function(a){switch(this.get("align")){case"left":return 0;case"right":return -a}return a/-4};MapLabel.prototype.draw=function(){var a=this.getProjection();if(!a){return}if(!this.canvas_){return}var c=(this.get("position"));if(!c){return}var d=a.fromLatLngToDivPixel(c);var b=this.canvas_.style;b.top=d.y+"px";b.left=d.x+"px";b.visibility=this.getVisible_()};MapLabel.prototype.draw=MapLabel.prototype.draw;MapLabel.prototype.getVisible_=function(){var d=(this.get("minZoom"));var a=(this.get("maxZoom"));if(d===undefined&&a===undefined){return""}var c=this.getMap();if(!c){return""}var b=c.getZoom();if(b<d||b>a){return"hidden"}return""};MapLabel.prototype.onRemove=function(){var a=this.canvas_;if(a&&a.parentNode){a.parentNode.removeChild(a)}};MapLabel.prototype.onRemove=MapLabel.prototype.onRemove;MapLabel.prototype.getPosition=function(){return this.get("position")};MapLabel.prototype.getIcon=function(){return{url:" "}};